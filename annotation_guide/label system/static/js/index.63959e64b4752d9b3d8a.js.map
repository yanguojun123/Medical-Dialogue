{"version":3,"sources":["webpack:///./src/pages/index/selection.js","webpack:///src/components/message.vue","webpack:///./src/components/message.vue?a2ae","webpack:///./src/components/message.vue","webpack:///./src/components/helpTooltip.vue?01c7","webpack:///src/pages/index/actionPanel.vue","webpack:///./src/components/helpTooltip.vue","webpack:///src/components/helpTooltip.vue","webpack:///./src/pages/index/actionPanel.vue?fa23","webpack:///./src/pages/index/actionPanel.vue","webpack:///src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?1273","webpack:///./src/pages/index/index.vue","webpack:///./src/pages/index/index.js"],"names":["Object","defineProperty","__webpack_exports__","value","vueSelection","bind","el","binding","vnode","fixRange","range","region","compareBoundaryPoints","Range","START_TO_START","setStart","startContainer","startOffset","END_TO_END","setEnd","endContainer","endOffset","document","body","addEventListener","handleMouseUp","parentElement","removeEventListener","rtn","selection","window","getSelection","allStr","fixStr","rangeCount","getRangeAt","createRange","selectNode","END_TO_START","START_TO_END","CheckIntersection","toString","modifiers","fix","copyRange","cloneRange","detach","handleRange","components_message","props","data","type","methods","formatTime","time","Date","this","prefixInteger","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","num","length","Array","join","slice","selectortype_template_index_0_src_components_message","render","_vm","_h","$createElement","_c","_self","staticClass","class","left","position","_v","_s","_e","topText","style","float","background","color","user","domProps","innerHTML","message","staticRenderFns","src_components_message","__webpack_require__","normalizeComponent","ssrContext","components_helpTooltip","attrs","content","transfer","max-width","on","on-popper-show","showTooltip","staticStyle","right","actionPanel","model","event","prop","components","helpTooltip","helpTooltip_normalizeComponent","$emit","watch","formValidate","handler","newVal","oldVal","deep","formData","immediate","currentPage","pageChange","text","intent","slot","aspect","slots","aspects","labels","remote","loadingAspect","needPagination","pageSize","query","hasNextPage","same","k","v","intentChange","filter","name","createSlot","slotChange","createAspect","val","push","title","_this","map","activeIntents","indexOf","_this2","s","loadData","activeSlots","aspectQueryChange","q","_this3","searchAspects","startIndex","_this4","resultIndexes","search","limit","page","Math","floor","next","result","pageNumber","index_actionPanel","ref","label","placeholder","callback","$$v","$set","expression","placement","on-change","_l","item","key","desc","disabled","filterable","allow-create","on-create","directives","rawName","loading","index","z-index","click","$event","stopPropagation","size","pages_index_actionPanel","actionPanel_normalizeComponent","reader","FileReader","options","container","easing","offset","force","cancelable","x","y","pages_index","height","screen","availHeight","fileName","messages","userConfig","extends_default","chatterConfig","currentIndex","currentActions","actions","currentRange","currentSelection","currentActions.length","newMessage","vue_scrollto_default","a","scrollTo","concat","toConsumableArray_default","clearSelection","addAction","unshift","removeAllRanges","empty","deleteAction","splice","actionRangeChange","txt","wholeText","firstCharIndex","trim","start","messageSelected","readFile","file","target","files","JSON","parse","dialogues","sentence","role","userName","readAsText","readLabelled","generateFile","aTag","createElement","json","finish","i","_message","$Message","error","console","log","blob","Blob","stringify_default","download","href","URL","createObjectURL","revokeObjectURL","selectortype_template_index_0_src_pages_index","dis-hover","bordered","padding","text-align","id","change","gutter","span","min-height","overflow","m","border-radius","border","label-width","margin-left","margin-bottom","margin-top","long","padding-top","action","positioin","postion","top","src_pages_index","index_normalizeComponent","Vue","use","ViewUI","locale","directive","ClickOutside","vueDebounce","listenTo","defaultTime","h"],"mappings":"gGAAAA,OAAAC,eAAAC,EAAA,cAAAC,OAAA,QAAMC,GACJC,KADmB,SACbC,EAAIC,EAASC,GAyDjB,SAASC,EAAUC,EAAOC,GACpBD,EAAME,sBAAsBC,MAAMC,eAAgBH,GAAU,GAC9DD,EAAMK,SAASJ,EAAOK,eAAgBL,EAAOM,aAE3CP,EAAME,sBAAsBC,MAAMK,WAAYP,GAAU,GAC1DD,EAAMS,OAAOR,EAAOS,aAAcT,EAAOU,WA7D7CC,SAASC,KAAKC,iBAAiB,UAK/B,SAASC,IACP,IAAKnB,EAAGoB,cAEN,YADAJ,SAASC,KAAKI,oBAAoB,UAAWF,GAG/C,IAAIG,EAMN,WACE,IAAIC,EAAYC,OAAOC,eACnBH,GACFI,OAAQ,GACRC,OAAQ,IAEV,GAAIJ,EAAUK,WAAa,EAAG,CAC5B,IAAIxB,EAAQmB,EAAUM,WAAW,GAC7BxB,EAASW,SAASc,cAEtB,GADAzB,EAAO0B,WAAW/B,GAuBtB,SAA4BI,EAAOC,GACjC,QAASD,EAAME,sBAAsBC,MAAMyB,aAAc3B,GAAU,GAAKD,EAAME,sBAAsBC,MAAM0B,aAAc5B,GAAU,GAvB5H6B,CAAkB9B,EAAOC,GAE3B,GADAiB,EAAII,OAAStB,EAAM+B,WACflC,EAAQmC,UAAUC,IACpBlC,EAASC,EAAOC,GAChBiB,EAAIK,OAASvB,EAAM+B,WACnBb,EAAIlB,MAAQA,MACP,CACL,IAAIkC,EAAYlC,EAAMmC,aACtBpC,EAASmC,EAAWjC,GACpBiB,EAAIK,OAASW,EAAUH,WACvBG,EAAUE,SACVlB,EAAIlB,MAAQkC,GAIlB,OAAOhB,EA/BGmB,GACVnB,EAAIK,QAAU1B,EAAQJ,MAAM4B,cAAgBxB,EAAQJ,MAAM4B,aAAaH,EAAIK,OAAQL,EAAII,OAAQJ,EAAIlB,WAwD1FN,oMCmBf4C,GACAC,OACAC,MACAC,KAAAnD,SAGAoD,SACAC,WADA,SACAC,GACA,OAAAA,aAAAC,KACAC,KAAAC,cAAAH,EAAAI,cAAA,OACAF,KAAAC,cAAAH,EAAAK,WAAA,SACAH,KAAAC,cAAAH,EAAAM,UAAA,OACAJ,KAAAC,cAAAH,EAAAO,WAAA,OACAL,KAAAC,cAAAH,EAAAQ,aAAA,OACAN,KAAAC,cAAAH,EAAAS,aAAA,GAEAT,EAAA,IAEAG,cAZA,SAYAO,EAAAC,GACA,OAAAC,MAAAD,GAAAE,KAAA,KAAAH,GAAAI,OAAAH,MCvGeI,GADEC,OAHP,WAAgB,IAAAC,EAAAf,KAAagB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sBAAgCL,EAAArB,KAAA,KAAAwB,EAAA,OAA4BE,YAAA,OAAAC,OAA0BC,KAAA,SAAAP,EAAArB,KAAA6B,YAAiCR,EAAAS,GAAAT,EAAAU,GAAAV,EAAAlB,WAAAkB,EAAArB,KAAAI,UAAAiB,EAAAW,KAAAX,EAAAS,GAAA,KAAAT,EAAArB,KAAA,QAAAwB,EAAA,OAAoGE,YAAA,OAAAC,OAA0BC,KAAA,SAAAP,EAAArB,KAAA6B,YAAiCR,EAAAS,GAAA,KAAAT,EAAAU,GAAAV,EAAArB,KAAAiC,SAAA,QAAAZ,EAAAW,KAAAX,EAAAS,GAAA,KAAAN,EAAA,OAA8EE,YAAA,SAAAQ,OAA6BC,MAAAd,EAAArB,KAAA6B,YAA0BL,EAAA,UAAeU,OACphBE,WAAA,GAAAf,EAAArB,KAAAqC,MAAA,MAAAhB,EAAArB,KAAAqC,OAAA,aAA0EhB,EAAAS,GAAAT,EAAAU,GAAAV,EAAArB,KAAAsC,UAAA,GAAAjB,EAAAS,GAAA,KAAAN,EAAA,OAA4DE,YAAA,eAAAC,OAAkCU,OAAA,IAAAhB,EAAArB,KAAAqC,OAA4BH,OAASC,MAAAd,EAAArB,KAAA6B,YAA0BL,EAAA,OAAYE,YAAA,QAAAC,OAA2BC,KAAA,SAAAP,EAAArB,KAAA6B,YAAiCR,EAAAS,GAAA,KAAAN,EAAA,KAAsBe,UAAUC,UAAAnB,EAAAU,GAAAV,EAAArB,KAAAyC,cAAsCpB,EAAAS,GAAA,KAAAN,EAAA,OAA0BE,YAAA,gBAE/WgB,oBCAhC,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACE/C,EACAqB,GATF,EAVA,SAAA2B,GACEF,EAAQ,SAaV,kBAEA,MAUgC,QCvBjBG,GADE3B,OAFP,WAAgB,IAAaE,EAAbhB,KAAaiB,eAA0BC,EAAvClB,KAAuCmB,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBwB,OAAOC,QAA3F3C,KAA2F2C,QAAAC,SAAA,GAAAC,YAAA,KAAoDC,IAAKC,iBAApJ/C,KAAoJgD,eAAkC9B,EAAA,QAAa+B,aAAa1B,SAAA,WAAA2B,MAAA,KAAkCR,OAAQ/C,KAAA,qBAAyB,IAE7QyC,oBCuGhCe,GACAC,OACAC,MAAA,SACAC,KAAA,SAEA7D,OAAA,SACA8D,YACAC,YChHyBlB,EAAQ,OAcjBmB,ECPhBhE,OAAA,WACAG,SACAoD,YADA,WAEAhD,KAAA0D,MAAA,kBDMEjB,GAT6B,EAEb,KAEC,KAEU,MAUG,SD2FhCkB,OACAC,cACAC,QADA,SACAC,EAAAC,GACA/D,KAAA0D,MAAA,SAAAI,IAEAE,MAAA,GAEArH,OACAkH,QADA,SACAC,EAAAC,GACA/D,KAAAiE,SAAAH,IAEAE,MAAA,EACAE,WAAA,GAEAC,YAdA,SAcAL,GACA9D,KAAAoE,WAAAN,KAGApE,KA3BA,WA4BA,OACAkE,cACAS,KAAA,GACAnH,MAAA,GACAoH,OAAA,GACAC,KAAA,GACAC,OAAA,GACA7H,MAAA,IAEA8H,SACAC,WACAC,OAAArG,OAAAqG,OACAC,QAAA,EACAC,eAAA,EACAC,gBAAA,EACAX,YAAA,EACAY,SAAA,GACAC,MAAA,GACAC,aAAA,IAGArF,SACAqE,SADA,SACAtH,GACA,IAAAuI,GAAA,EACA,QAAAC,KAAAxI,EAAA,CACA,IAAAyI,EAAAzI,EAAAwI,GACAD,KAAAlF,KAAA4D,aAAAuB,KAAAC,EAEAF,IACAlF,KAAA4D,cACAS,KAAA1H,EAAA0H,KACAnH,MAAAP,EAAAO,MACAoH,OAAA3H,EAAA2H,QAEAtE,KAAArD,MAAA4H,OACAvE,KAAAqF,aAAArF,KAAArD,MAAA2H,QACA,IAAAtE,KAAAyE,MAAAa,OAAA,SAAAF,GAAA,OAAAzI,EAAA4H,OAAAa,EAAAG,OAAA9E,QACAT,KAAAwF,WAAA7I,EAAA4H,MAEAvE,KAAA4D,aAAAW,KAAA5H,EAAA4H,MAGAvE,KAAArD,MAAA6H,SACAxE,KAAAyF,WAAAzF,KAAArD,MAAA4H,MACA,IAAAvE,KAAA0E,QAAAY,OAAA,SAAAF,GAAA,OAAAzI,EAAA6H,SAAAY,EAAAG,OAAA9E,QACAT,KAAA0F,aAAA1F,KAAArD,MAAA6H,QAEAxE,KAAA4D,aAAAY,OAAA7H,EAAA6H,UAGAgB,WA7BA,SA6BAG,GACA3F,KAAAyE,MAAAmB,MACAL,KAAAI,EACAE,MAAAF,KAGAD,aAnCA,SAmCAC,GACA3F,KAAA0E,QAAAkB,MACAL,KAAAI,EACAE,MAAAF,KAGAN,aAzCA,SAyCA1I,GAAA,IAAAmJ,EAAA9F,KACAA,KAAA4D,aAAAW,KAAA,GACAvE,KAAA4D,aAAAY,OAAA,GACAxE,KAAAyE,SACAzE,KAAA0E,WACA1E,KAAA2E,OAAAF,MAAAsB,IAAA,SAAAxB,GACAA,EAAAyB,cAAAC,QAAAtJ,IAAA,GACAmJ,EAAArB,MAAAmB,KAAArB,MAIAkB,WApDA,SAoDA9I,GAAA,IAAAuJ,EAAAlG,KACAA,KAAA4D,aAAAY,OAAA,GACAxE,KAAA0E,WACA1E,KAAAyE,MAAAa,OAAA,SAAAa,GAAA,OAAAA,EAAAZ,OAAA5I,GAAAwJ,EAAAC,WAAA3F,OAAA,GAGAT,KAAA2E,OAAAD,QAAAqB,IAAA,SAAAX,GACAA,EAAAiB,YAAAJ,QAAAtJ,IAAA,GACAuJ,EAAAxB,QAAAkB,KAAAR,MAKAkB,kBAjEA,SAiEAC,GAAA,IAAAC,EAAAxG,KACAuG,GAEAvG,KAAAyE,MAAAa,OAAA,SAAAa,GAAA,OAAAA,EAAAZ,OAAAiB,EAAA5C,aAAAW,MAAA4B,EAAAC,WACA3F,OAAA,IAEAT,KAAA6E,eAAA,EACA7E,KAAAyG,cAAAF,EAAA,GACAvG,KAAA6E,eAAA,IAGA4B,cA5EA,SA4EAzB,EAAA0B,GAAA,IAAAC,EAAA3G,KACA4G,EAAAtI,OAAA0B,KAAA4D,aAAAW,KAAA,UAAAsC,QACA7B,QACA8B,MAAA9G,KAAA+E,SACAgC,KAAAL,EAAA,KAEA1G,KAAA0E,WACA1E,KAAAgF,QACAhF,KAAA8E,gBAAA,EACA9E,KAAAmE,YAAA6C,KAAAC,MAAAP,EAAA1G,KAAA+E,UACA/E,KAAAiF,YAAA,OAAA2B,EAAAM,KACAN,EAAAO,QACAP,EAAAO,OAAApB,IAAA,SAAAX,GACA,IAAA1F,EAAApB,OAAAqI,EAAA/C,aAAAW,KAAA,cAAAa,GACAuB,EAAAjC,QAAAkB,MACAL,KAAA7F,EACAmG,MAAAnG,OAKA0E,WAjGA,SAiGAgD,GACApH,KAAA0E,WACA1E,KAAAyG,cAAAzG,KAAAgF,MAAAoC,EAAApH,KAAA+E,aG1PesC,GADEvG,OAFP,WAAgB,IAAAC,EAAAf,KAAagB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QAAkBoG,IAAA,eAAA5E,OAA0BU,MAAArC,EAAA6C,gBAA0B1C,EAAA,YAAiBwB,OAAO6E,MAAA,KAAAjE,KAAA,UAA4BpC,EAAA,SAAcwB,OAAO8E,YAAA,gBAAA7H,KAAA,YAAgDyD,OAAQzG,MAAAoE,EAAA6C,aAAA,KAAA6D,SAAA,SAAAC,GAAuD3G,EAAA4G,KAAA5G,EAAA6C,aAAA,OAAA8D,IAAwCE,WAAA,wBAAiC,GAAA7G,EAAAS,GAAA,KAAAN,EAAA,YAAiCwB,OAAO6E,MAAA,KAAAjE,KAAA,WAA6BpC,EAAA,eAAoBkC,OAAOzG,MAAAoE,EAAA6C,aAAA1G,MAAA,GAAAuK,SAAA,SAAAC,GAA2D3G,EAAA4G,KAAA5G,EAAA6C,aAAA1G,MAAA,EAAAwK,IAAyCE,WAAA,2BAAqC7G,EAAAS,GAAA,KAAAN,EAAA,eAAgCkC,OAAOzG,MAAAoE,EAAA6C,aAAA1G,MAAA,GAAAuK,SAAA,SAAAC,GAA2D3G,EAAA4G,KAAA5G,EAAA6C,aAAA1G,MAAA,EAAAwK,IAAyCE,WAAA,4BAAqC,GAAA7G,EAAAS,GAAA,KAAAN,EAAA,YAAiCwB,OAAO6E,MAAA,SAAAjE,KAAA,YAAkCpC,EAAA,UAAewB,OAAO8E,YAAA,cAAAK,UAAA,OAA8C/E,IAAKgF,YAAA/G,EAAAsE,cAA6BjC,OAAQzG,MAAAoE,EAAA6C,aAAA,OAAA6D,SAAA,SAAAC,GAAyD3G,EAAA4G,KAAA5G,EAAA6C,aAAA,SAAA8D,IAA0CE,WAAA,wBAAmC7G,EAAAgH,GAAAhH,EAAA4D,OAAA,iBAAAqD,GAA4C,OAAA9G,EAAA,UAAoB+G,IAAAD,EAAAzC,KAAA7C,OAAqB/F,MAAAqL,EAAAzC,KAAAgC,MAAAS,EAAAnC,SAAsC9E,EAAAS,GAAA,eAAAT,EAAAU,GAAAuG,EAAAnC,OAAA,gBAAAmC,EAAA,KAAA9G,EAAA,eAAyFwB,OAAOC,QAAAqF,EAAAE,QAAqBnH,EAAAW,MAAA,KAAe,OAAAX,EAAAS,GAAA,KAAAN,EAAA,YAAoCwB,OAAO6E,MAAA,OAAAjE,KAAA,UAA8BpC,EAAA,UAAewB,OAAO8E,YAAA,eAAAW,UAAApH,EAAA6C,aAAAU,OAAA8D,WAAA,GAAAC,eAAA,GAAAR,UAAA,OAAqH/E,IAAKgF,YAAA/G,EAAA0E,WAAA6C,YAAAvH,EAAAyE,YAAsDpC,OAAQzG,MAAAoE,EAAA6C,aAAA,KAAA6D,SAAA,SAAAC,GAAuD3G,EAAA4G,KAAA5G,EAAA6C,aAAA,OAAA8D,IAAwCE,WAAA,sBAAiC7G,EAAAgH,GAAAhH,EAAA,eAAAiH,GAAmC,OAAA9G,EAAA,UAAoB+G,IAAAD,EAAAzC,KAAA7C,OAAqB/F,MAAAqL,EAAAzC,KAAAgC,MAAAS,EAAAnC,SAAsC9E,EAAAS,GAAA,eAAAT,EAAAU,GAAAuG,EAAAnC,OAAA,gBAAAmC,EAAA,KAAA9G,EAAA,eAAyFwB,OAAOC,QAAAqF,EAAAE,QAAqBnH,EAAAW,MAAA,KAAe,OAAAX,EAAAS,GAAA,KAAAN,EAAA,YAAoCwB,OAAO6E,MAAA,SAAAjE,KAAA,YAAkCpC,EAAA,UAAeqH,aAAahD,KAAA,WAAAiD,QAAA,aAAA7L,MAAAoE,EAAA,kBAAA6G,WAAA,sBAAkGlF,OAAS8E,YAAA,iBAAAW,UAAApH,EAAA6C,aAAAU,SAAAvD,EAAA6C,aAAAW,KAAA6D,WAAA,GAAAxD,OAAA,GAAA6D,QAAA1H,EAAA8D,cAAAwD,eAAA,GAAAR,UAAA,OAAyL/E,IAAKwF,YAAAvH,EAAA2E,cAA6BtC,OAAQzG,MAAAoE,EAAA6C,aAAA,OAAA6D,SAAA,SAAAC,GAAyD3G,EAAA4G,KAAA5G,EAAA6C,aAAA,SAAA8D,IAA0CE,WAAA,wBAAmC7G,EAAAgH,GAAAhH,EAAA,iBAAAiH,EAAAU,GAA2C,OAAAxH,EAAA,UAAoB+G,IAAAD,EAAAzC,KAAA,KAAAmD,EAAAhG,OAAgC/F,MAAAqL,EAAAzC,KAAAgC,MAAAS,EAAAnC,SAAsC9E,EAAAS,GAAA,eAAAT,EAAAU,GAAAuG,EAAAnC,OAAA,gBAAA9E,EAAA+D,gBAAA,GAAA4D,EAAAxH,EAAA,eAA4G+B,aAAapB,MAAA,QAAA8G,UAAA,OAAgC7F,IAAK8F,MAAA,SAAAC,GAAyBA,EAAAC,sBAA0D5H,EAAA,UAAewB,OAAO/C,KAAA,UAAAoJ,KAAA,QAAAZ,SAAA,IAAApH,EAAAoD,aAAiErB,IAAK8F,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyB/H,EAAAoD,kBAAoBjD,EAAA,QAAawB,OAAO/C,KAAA,qBAAyB,GAAAoB,EAAAS,GAAA,KAAAN,EAAA,UAA+BwB,OAAO/C,KAAA,UAAAoJ,KAAA,QAAAZ,UAAApH,EAAAkE,eAA6D/D,EAAA,QAAawB,OAAO/C,KAAA,qBAA2BmD,IAAK8F,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyB/H,EAAAoD,mBAAoB,OAAApD,EAAAW,KAAAX,EAAAS,GAAA,KAAAwG,EAAA,KAAA9G,EAAA,eAA6DwB,OAAOC,QAAAqF,EAAAE,QAAqBnH,EAAAW,MAAA,KAAe,OAAAX,EAAAS,GAAA,KAAAN,EAAA,YAAoCwB,OAAO6E,MAAA,SAAAjE,KAAA,YAAkCpC,EAAA,UAAekC,OAAOzG,MAAAoE,EAAA6C,aAAA,MAAA6D,SAAA,SAAAC,GAAwD3G,EAAA4G,KAAA5G,EAAA6C,aAAA,QAAA8D,IAAyCE,WAAA,wBAAkC1G,EAAA,UAAewB,OAAO/F,MAAA,SAAeoE,EAAAS,GAAA,SAAAT,EAAAS,GAAA,KAAAN,EAAA,UAA2CwB,OAAO/F,MAAA,QAAcoE,EAAAS,GAAA,QAAAT,EAAAS,GAAA,KAAAN,EAAA,UAA0CwB,OAAO/F,MAAA,aAAmBoE,EAAAS,GAAA,2BAEzzHY,oBCqBjB4G,EAvBU1G,EAAQ,OAcjB2G,CACd9F,EACAkE,GAT6B,EAEb,KAEC,KAEU,MAUG,QC6JhC6B,EAAA,IAAAC,WACAC,GACAC,UAAA,aACAC,OAAA,UACAC,QAAA,GACAC,OAAA,EACAC,YAAA,EACAC,GAAA,EACAC,GAAA,GAEAC,GACArG,YACApB,QAAAE,EACAc,YAAA6F,GAEAtJ,KALA,WAMA,OACAmK,OAAAvL,OAAAwL,OAAAC,YAAA,IACAC,SAAA,GACAC,YACAC,WAAkBC,OAAlB7L,OAAA8L,eACAC,aAAA,EACA5B,SAAA,EACA6B,kBACAC,WACAC,gBACAC,iBAAA,KAGA9G,OACA+G,wBADA,SACA5G,EAAAC,GACA,IAAA4G,EAAAR,OAAAnK,KAAAiK,SAAAjK,KAAAqK,eAAA1I,QAAAmC,EAAA,gBACA9D,KAAA2H,KAAA3H,KAAAiK,SAAAjK,KAAAqK,aAAA,GAAAM,IAEAN,aALA,SAKAvG,EAAAC,GACM6G,EAAAC,EAANC,SAAA,YAAAhH,EAAA,IAAAsF,GACApJ,KAAAuK,QAAAxG,MAAAgH,OAAAC,IAAAhL,KAAAsK,iBACAtK,KAAAsK,kBAAAS,OAAAC,IAAAhL,KAAAuK,QAAAzG,OAGAlE,SACAqL,eADA,WAEAjL,KAAAyK,iBAAA,GACAzK,KAAAwK,cAAA,MAEAU,UALA,WAMAlL,KAAAsK,eAAAa,SACAlD,IAAAjI,KAAAqK,aAAA,KAAArK,KAAAsK,eAAA7J,OACA4D,KAAArE,KAAAyK,iBACAvN,MAAA8C,KAAAwK,eAEAlM,OAAAC,aACAD,OAAAC,eAAA6M,kBAEAtN,SAAAO,UAAAgN,SAGAC,aAjBA,SAiBA5C,GACA1I,KAAAsK,eAAAiB,OAAA7C,EAAA,IAEA8C,kBApBA,SAoBA/M,EAAAD,EAAAtB,GACA,IAAAuO,EAAAvO,EAAAU,aAAA8N,UACA,IAAAxO,EAAAW,YACA4N,EAAAvO,EAAAM,eAAAkO,WAGA,IADA,IAAAC,EAAA,EACAA,EAAAF,EAAAhL,SAEA,OAAAgL,EAAAE,IACA,OAAAF,EAAAE,IACA,MAAAF,EAAAE,IACA,OAAAF,EAAAE,IALAA,KAUA3L,KAAAyK,iBAAAhM,EAAAmN,OACA,IAAAC,EACA,IAAA3O,EAAAO,YAAA,EAAAP,EAAAO,YAAAkO,EACA3L,KAAAwK,cAAAqB,IAAApN,EAAAmN,OAAAnL,OAAA,IAEAqL,gBAzCA,SAyCApD,GACA1I,KAAAqK,aAAA3B,GAEAqD,SA5CA,SA4CA1I,GAAA,IAAAyC,EAAA9F,KACAA,KAAAyI,SAAA,EACA,IAAAuD,EAAA3I,EAAA4I,OAAAC,MAAA,GACAlM,KAAAiK,YACAf,EAAAlL,iBAAA,qBACAmO,KAAAC,MAAAlD,EAAA/B,QACAkF,UAAAtG,IAAA,SAAA5D,EAAAuG,GACA5C,EAAAmE,SAAAvB,GAAAyB,OACAhI,GACAA,UAAAmK,SACA/K,SAAAuE,EAAAoE,WAAA/H,EAAAoK,MAAAhL,SACAS,KAAA8D,EAAAoE,WAAA/H,EAAAoK,MAAA1G,MACA9D,MAAA,SAAA+D,EAAAoE,WAAA/H,EAAAoK,MAAAhL,SACAI,QAAA,MACA6K,SAAArK,EAAAoK,OAEAzG,EAAAyE,QAAA3E,WAEAE,EAAAkE,SAAAgC,EAAAzG,KACAO,EAAA2C,SAAA,IAEAS,EAAAuD,WAAAT,IAEAU,aAnEA,SAmEArJ,GAAA,IAAA6C,EAAAlG,KACAA,KAAAyI,SAAA,EACA,IAAAuD,EAAA3I,EAAA4I,OAAAC,MAAA,GACAlM,KAAAiK,YACAf,EAAAlL,iBAAA,qBACAmO,KAAAC,MAAAlD,EAAA/B,QACApB,IAAA,SAAA5D,EAAAuG,GACAxC,EAAA+D,SAAAvB,GAAAyB,OACAhI,GAEA+D,EAAAqE,QAAA7B,GAAAvG,EAAAoI,UAEArE,EAAAmE,aAAA,EACAnE,EAAAoE,kBAAAS,OAAAC,IAAA9E,EAAAqE,QAAA,KACArE,EAAA8D,SAAAgC,EAAAzG,KACAW,EAAAuC,SAAA,IAEAS,EAAAuD,WAAAT,IAEAW,aAtFA,WAuFA3M,KAAAuK,QAAAvK,KAAAqK,iBAAAU,OAAAC,IAAAhL,KAAAsK,iBACA,IAAAsC,EAAA9O,SAAA+O,cAAA,KACAC,KACAC,GAAA,EACAC,EAAA,EACA,IAAAA,EAAA,EAAAA,EAAAhN,KAAAiK,SAAAxJ,OAAAuM,IAAA,CACA,IAAAC,EAAAjN,KAAAiK,SAAA+C,GACAzC,EAAAvK,KAAAuK,QAAAyC,GAMA,GALAF,EAAAE,GAAA7C,OACA8C,GACA1C,cAEAwC,KAAAxC,EAAA9J,OAAA,GACA,MAEA,IAAAsM,EAMA,OALA/M,KAAAkN,SAAAC,OACAxK,QAAA,oBAEAyK,QAAAC,IAAAL,QACAhN,KAAAqK,aAAA2C,GAGA,IAAAM,EAAA,IAAAC,MAAAC,IAAAV,EAAA,UACAF,EAAAa,SACAzN,KAAAgK,SACA,iBACA4C,EAAAc,KAAAC,IAAAC,gBAAAN,GACAV,EAAAhE,QACA+E,IAAAE,gBAAAP,MC1UeQ,GADEhN,OALP,WAAgB,IAAAC,EAAAf,KAAagB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,QAA4BwB,OAAOqL,YAAA,GAAAC,UAAA,EAAAC,QAAA,KAA6C/M,EAAA,OAAY+B,aAAaiL,aAAA,UAAsBxL,OAAQ6B,KAAA,SAAeA,KAAA,UAAcrD,EAAA,UAAAH,EAAAS,GAAA,6BAAAxB,KAAA,SAAAkB,EAAA,OAA6EwB,OAAOX,MAAA,OAAApC,KAAA,YAAgCoB,EAAAS,GAAAT,EAAAU,GAAAV,EAAAiJ,aAAA9I,EAAA,QAAAH,EAAAS,GAAA,WAAAT,EAAAS,GAAA,KAAAN,EAAA,OAAoFE,YAAA,SAAmBF,EAAA,QAAAA,EAAA,QAAwBwB,OAAO/C,KAAA,aAAkBoB,EAAAS,GAAA,eAAAT,EAAAS,GAAA,KAAAN,EAAA,SAAgDoG,IAAA,YAAAlG,YAAA,OAAAsB,OAA0CyL,GAAA,aAAAxO,KAAA,QAAgCmD,IAAKsL,OAAArN,EAAAgL,cAAuBhL,EAAAS,GAAA,KAAAN,EAAA,OAA0BE,YAAA,SAAmBF,EAAA,QAAAA,EAAA,QAAwBwB,OAAO/C,KAAA,aAAkBoB,EAAAS,GAAA,gBAAAT,EAAAS,GAAA,KAAAN,EAAA,SAAiDoG,IAAA,iBAAAlG,YAAA,OAAAsB,OAA+CyL,GAAA,iBAAAxO,KAAA,QAAoCmD,IAAKsL,OAAArN,EAAA2L,kBAA2B3L,EAAAS,GAAA,KAAAN,EAAA,UAA6BwB,OAAO/C,KAAA,QAAcmD,IAAK8F,MAAA7H,EAAA4L,gBAA0BzL,EAAA,QAAawB,OAAO/C,KAAA,iBAAsBoB,EAAAS,GAAA,2BAAAT,EAAAS,GAAA,KAAAT,EAAA,QAAAG,EAAA,QAAyEwB,OAAOqG,KAAA,QAAA5J,IAAA,MAAyB+B,EAAA,QAAaE,YAAA,iBAAAsB,OAAoC/C,KAAA,cAAAoJ,KAAA,QAAkChI,EAAAS,GAAA,KAAAN,EAAA,OAAAH,EAAAS,GAAA,oBAAAT,EAAAW,KAAAX,EAAAS,GAAA,KAAAN,EAAA,OAAAA,EAAA,OAA4FwB,OAAO2L,OAAA,KAAYnN,EAAA,OAAYwB,OAAO4L,KAAA,MAAWpN,EAAA,QAAaoG,IAAA,YAAArE,aAA6BnB,WAAA,YAAAyM,aAAA,QAAAC,SAAA,QAAgE5M,OAASiI,OAAA9I,EAAA8I,OAAA,KAAA2E,SAAA,QAA8C9L,OAASyL,GAAA,cAAkBpN,EAAAgH,GAAAhH,EAAA,kBAAA0N,EAAA/F,GAAyC,OAAAxH,EAAA,OAAiB+G,IAAA,WAAAS,EAAAzF,aAAoCyL,gBAAA,OAAAT,QAAA,OAAuCrM,OACtqD+M,OACA5N,EAAAsJ,eAAA3B,EAAA,8BACe5F,IAAM8F,MAAA,SAAAC,GAAyB,OAAA9H,EAAA+K,gBAAApD,OAAoCxH,EAAA,WAAgBwB,OAAOhD,KAAA+O,EAAAN,GAAA,WAAAzF,MAAgC,KAAM,OAAA3H,EAAAS,GAAA,KAAAT,EAAAkJ,SAAAxJ,OAAA,EAAAS,EAAA,OAAyDwB,OAAO4L,KAAA,MAAWpN,EAAA,OAAY+B,aAAagL,QAAA,OAAAO,SAAA,QAAmC5M,OAASiI,OAAA9I,EAAA8I,OAAA,WAAmC3I,EAAA,QAAawB,OAAOkM,cAAA,MAAkB1N,EAAA,eAAoB+B,aAAa4L,cAAA,OAAAC,gBAAA,QAA4CpM,OAAQqG,KAAA,WAAgB7H,EAAA,UAAewB,OAAO/C,KAAA,UAAAwI,SAAA,IAAApH,EAAAsJ,cAAmDvH,IAAK8F,MAAA,SAAAC,GAAyB9H,EAAAsJ,aAAAtJ,EAAAsJ,aAAA,MAA0CnJ,EAAA,QAAawB,OAAO/C,KAAA,oBAAyBoB,EAAAS,GAAA,6BAAAT,EAAAS,GAAA,KAAAN,EAAA,UAA+DwB,OAAO/C,KAAA,UAAAwI,SAAApH,EAAAsJ,eAAAtJ,EAAAkJ,SAAAxJ,OAAA,GAAyEqC,IAAK8F,MAAA,SAAAC,GAAyB9H,EAAAsJ,aAAAtJ,EAAAsJ,aAAA,MAA0CtJ,EAAAS,GAAA,+CAAAN,EAAA,QAAmEwB,OAAO/C,KAAA,wBAA4B,OAAAoB,EAAAS,GAAA,KAAAN,EAAA,SAAkC+B,aAAalB,MAAA,SAAehB,EAAAS,GAAA,sDAAAT,EAAAS,GAAA,KAAAN,EAAA,YAA0F+B,aAAa6L,gBAAA,OAAsBpM,OAAQ6E,MAAA,UAAgBrG,EAAA,OAAYwB,OAAOX,MAAA,UAAgBhB,EAAAS,GAAAT,EAAAU,GAAAV,EAAAkJ,SAAAlJ,EAAAsJ,cAAArI,UAAA,GAAAjB,EAAAS,GAAA,KAAAN,EAAA,YAAuF+B,aAAa8L,aAAA,QAAoBrM,OAAQ6E,MAAA,UAAgBrG,EAAA,OAAYqH,aAAahD,KAAA,YAAAiD,QAAA,cAAA7L,OAA+C4B,aAAAwC,EAAAyK,mBAAsC5D,WAAA,wCAAqDrC,KAAA,gBAAAiD,QAAA,kBAAA7L,MAAAoE,EAAA,eAAA6G,WAAA,mBAAsGxG,YAAA,YAAA6B,aAAuC4G,OAAA,UAAiB3I,EAAA,QAAAH,EAAAS,GAAAT,EAAAU,GAAAV,EAAAkJ,SAAAlJ,EAAAsJ,cAAAlI,iBAAA,GAAApB,EAAAS,GAAA,KAAAN,EAAA,UAAuGwB,OAAO/C,KAAAoB,EAAA0J,iBAAAhK,OAAA,qBAAAuO,KAAA,IAAwElM,IAAK8F,MAAA7H,EAAAmK,aAAuBhK,EAAA,QAAawB,OAAO/C,KAAA,YAAiBoB,EAAAS,GAAA,gBAAAT,EAAAS,GAAA,KAAAN,EAAA,OAA+C+B,aAAagM,cAAA,SAAsBlO,EAAAgH,GAAAhH,EAAA,wBAAAmO,EAAAxG,GAAoD,OAAAxH,EAAA,OAAiB+G,IAAAiH,EAAAjH,IAAAhF,aAA4BgL,QAAA,SAAiB/M,EAAA,QAAa+B,aAAakM,UAAA,cAAwBjO,EAAA,OAAY+B,aAAamM,QAAA,WAAAC,IAAA,IAAAnM,MAAA,OAA4ChC,EAAA,UAAewB,OAAO/C,KAAA,OAAAoJ,KAAA,SAA6BjG,IAAK8F,MAAA,SAAAC,GAAyB,OAAA9H,EAAAuK,aAAA5C,OAAiCxH,EAAA,QAAawB,OAAO/C,KAAA,eAAmB,OAAAoB,EAAAS,GAAA,KAAAN,EAAA,OAAAA,EAAA,eAAkDkC,OAAOzG,MAAAoE,EAAAuJ,eAAA5B,GAAAjB,SAAA,SAAAC,GAA2D3G,EAAA4G,KAAA5G,EAAAuJ,eAAA5B,EAAAhB,IAAyCE,WAAA,4BAAqC,WAAY,SAAA7G,EAAAW,MAAA,gBAExgFU,oBCFhC,IAuBekN,EAvBUhN,EAAQ,OAcjBiN,CACd3F,EACAkE,GAT6B,EAV/B,SAAoBtL,GAClBF,EAAQ,SAaS,kBAEU,MAUG,kHCjBhCkN,UAAIC,IAAIC,KAAUC,aAClBH,UAAII,UAAU,YAAavR,WAC3BmR,UAAII,UAAU,gBAAiBC,KAC/BL,UAAIC,IAAIK,KACNC,SAAU,QACVC,YAAa,OAIf,IAAIR,WACF1S,GAAI,OACJgE,OAAQ,SAAAmP,GAAA,OAAKA,EAAEvH","file":"static/js/index.63959e64b4752d9b3d8a.js","sourcesContent":["const vueSelection = {\r\n  bind (el, binding, vnode) {\r\n    document.body.addEventListener('mouseup', handleMouseUp)\r\n\r\n    /**\r\n     * handle mouseup event on body\r\n     */\r\n    function handleMouseUp () {\r\n      if (!el.parentElement) {\r\n        document.body.removeEventListener('mouseup', handleMouseUp)\r\n        return\r\n      }\r\n      var rtn = handleRange()\r\n      rtn.fixStr && binding.value.getSelection && binding.value.getSelection(rtn.fixStr, rtn.allStr, rtn.range)\r\n    }\r\n    /**\r\n     * handle range fix\r\n     */\r\n    function handleRange () {\r\n      var selection = window.getSelection()\r\n      var rtn = {\r\n        allStr: '',\r\n        fixStr: ''\r\n      }\r\n      if (selection.rangeCount > 0) {\r\n        var range = selection.getRangeAt(0)\r\n        var region = document.createRange()\r\n        region.selectNode(el)\r\n        if (CheckIntersection(range, region)) {\r\n          rtn.allStr = range.toString()\r\n          if (binding.modifiers.fix) {\r\n            fixRange(range, region)\r\n            rtn.fixStr = range.toString()\r\n            rtn.range = range\r\n          } else {\r\n            var copyRange = range.cloneRange()\r\n            fixRange(copyRange, region)\r\n            rtn.fixStr = copyRange.toString()\r\n            copyRange.detach()\r\n            rtn.range = copyRange\r\n          }\r\n        }\r\n      }\r\n      return rtn\r\n    }\r\n    /**\r\n     * check if the range intersects the region\r\n     * @param {*} range\r\n     * @param {*} region\r\n     */\r\n    function CheckIntersection (range, region) {\r\n      return !(range.compareBoundaryPoints(Range.END_TO_START, region) > 0 || range.compareBoundaryPoints(Range.START_TO_END, region) < 0)\r\n    }\r\n    /**\r\n     * fix the range according to the region\r\n     * @param {*} range\r\n     * @param {*} region\r\n     */\r\n    function fixRange (range, region) {\r\n      if (range.compareBoundaryPoints(Range.START_TO_START, region) < 0) {\r\n        range.setStart(region.startContainer, region.startOffset)\r\n      }\r\n      if (range.compareBoundaryPoints(Range.END_TO_END, region) > 0) {\r\n        range.setEnd(region.endContainer, region.endOffset)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default vueSelection\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/selection.js","<style scoped>\r\n.message-body {\r\n  position: relative;\r\n  min-width: 150px;\r\n  min-height: 35px;\r\n  max-width: 75%;\r\n  border-radius: 5px;\r\n  background: #fff;\r\n  margin: 15px 5px auto;\r\n  text-align: left;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  padding: 5px 10px;\r\n  border: 1px solid #dcdee2;\r\n  border-color: #e8eaec;\r\n}\r\n.message-body .arrow {\r\n  position: absolute;\r\n  top: 3px;\r\n  right: -10px;\r\n  width: 0;\r\n  height: 0;\r\n  font-size: 0;\r\n  border: solid 6px;\r\n  border-color: transparent transparent transparent #fff;\r\n}\r\n.message-container .time {\r\n  position: absolute;\r\n  top: 6px;\r\n  right: 44px;\r\n  left: 0;\r\n  font-size: 10px;\r\n  color: darkgray;\r\n  text-align: right;\r\n}\r\n.message-container .time.left {\r\n  text-align: left;\r\n  left: 44px;\r\n  right: 0;\r\n}\r\n.message-body .arrow.left {\r\n  left: -10px;\r\n  border-color: transparent #fff transparent transparent;\r\n}\r\n.message-body.color {\r\n  background: #2b85e4;\r\n  color: white;\r\n}\r\n.message-body.color .arrow {\r\n  border-color: transparent transparent transparent #2b85e4;\r\n}\r\n\r\n.message-container {\r\n  position: relative;\r\n  padding: 5px;\r\n}\r\n.avatar {\r\n  float: left;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div class=\"message-container\">\r\n    <div\r\n      v-if=\"data.time\"\r\n      class=\"time\"\r\n      :class=\"{left:data.position==='left'}\"\r\n    >{{formatTime(data.time)}}</div>\r\n    <div\r\n      v-if=\"data.topText\"\r\n      class=\"time\"\r\n      :class=\"{left:data.position==='left'}\"\r\n    >&nbsp;&nbsp;{{data.topText}}&nbsp;&nbsp;</div>\r\n    <div class=\"avatar\" :style=\"{float:data.position}\">\r\n      <Avatar\r\n        :style=\"{\r\n        background: data.color==true? 'red':data.color||'#f56a00'}\"\r\n      >{{ data.user }}</Avatar>\r\n    </div>\r\n    <div class=\"message-body\" :class=\"{color:data.color===true}\" :style=\"{float:data.position}\">\r\n      <div class=\"arrow\" :class=\"{left:data.position==='left'}\"></div>\r\n      <p v-html=\"data.message\"></p>\r\n    </div>\r\n    <div class=\"clearfix\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    data: {\r\n      type: Object\r\n    }\r\n  },\r\n  methods: {\r\n    formatTime (time) {\r\n      if (time instanceof Date) {\r\n        return this.prefixInteger(time.getFullYear(), 4) + '-' +\r\n          this.prefixInteger((time.getMonth() + 1), 2) + '-' +\r\n          this.prefixInteger(time.getDate(), 2) + ' ' +\r\n         this.prefixInteger(time.getHours(), 2) + ':' +\r\n         this.prefixInteger(time.getMinutes(), 2) + ':' +\r\n          this.prefixInteger(time.getSeconds(), 2)\r\n      }\r\n      return time + ''\r\n    },\r\n    prefixInteger (num, length) {\r\n      return (Array(length).join('0') + num).slice(-length)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/message.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-container\"},[(_vm.data.time)?_c('div',{staticClass:\"time\",class:{left:_vm.data.position==='left'}},[_vm._v(_vm._s(_vm.formatTime(_vm.data.time)))]):_vm._e(),_vm._v(\" \"),(_vm.data.topText)?_c('div',{staticClass:\"time\",class:{left:_vm.data.position==='left'}},[_vm._v(\"  \"+_vm._s(_vm.data.topText)+\"  \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"avatar\",style:({float:_vm.data.position})},[_c('Avatar',{style:({\n      background: _vm.data.color==true? 'red':_vm.data.color||'#f56a00'})},[_vm._v(_vm._s(_vm.data.user))])],1),_vm._v(\" \"),_c('div',{staticClass:\"message-body\",class:{color:_vm.data.color===true},style:({float:_vm.data.position})},[_c('div',{staticClass:\"arrow\",class:{left:_vm.data.position==='left'}}),_vm._v(\" \"),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.data.message)}})]),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e747e91a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/message.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e747e91a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./message.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./message.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./message.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e747e91a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./message.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e747e91a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/message.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Tooltip',{attrs:{\"content\":_vm.content,\"transfer\":\"\",\"max-width\":200},on:{\"on-popper-show\":_vm.showTooltip}},[_c('Icon',{staticStyle:{\"position\":\"relative\",\"right\":\"0\"},attrs:{\"type\":\"md-help-circle\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cec41b8a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/helpTooltip.vue\n// module id = null\n// module chunks = ","<template>\r\n  <Form ref=\"formValidate\" :model=\"formValidate\" >\r\n    <FormItem label=\"语句\" prop=\"name\">\r\n      <Input\r\n        v-model=\"formValidate.text\"\r\n        placeholder=\"在原始消息中选择一部分……\"\r\n        type=\"textarea\"\r\n      ></Input>\r\n    </FormItem>\r\n    <FormItem label=\"下标\" prop=\"index\">\r\n      <InputNumber v-model=\"formValidate.range[0]\"></InputNumber>\r\n      <InputNumber v-model=\"formValidate.range[1]\"></InputNumber>\r\n    </FormItem>\r\n    <FormItem label=\"Intent\" prop=\"intent\">\r\n      <Select\r\n        v-model=\"formValidate.intent\"\r\n        placeholder=\"选择intent...\"\r\n        @on-change=\"intentChange\"\r\n        placement=\"top\"\r\n      >\r\n        <Option\r\n          v-for=\"item in labels.intents\"\r\n          :value=\"item.name\"\r\n          :label=\"item.title\"\r\n          :key=\"item.name\"\r\n        >\r\n          {{ item.title }}\r\n          <helpTooltip v-if=\"item.desc\" :content=\"item.desc\" />\r\n        </Option>\r\n      </Select>\r\n    </FormItem>\r\n    <FormItem label=\"Slot\" prop=\"slot\">\r\n      <Select\r\n        v-model=\"formValidate.slot\"\r\n        placeholder=\"选择或填写slot...\"\r\n        @on-change=\"slotChange\"\r\n        :disabled=\"!formValidate.intent\"\r\n        filterable\r\n        allow-create\r\n        placement=\"top\"\r\n        @on-create=\"createSlot\"\r\n      >\r\n        <Option\r\n          v-for=\"item in slots\"\r\n          :value=\"item.name\"\r\n          :label=\"item.title\"\r\n          :key=\"item.name\"\r\n        >\r\n          {{ item.title }}\r\n          <helpTooltip v-if=\"item.desc\" :content=\"item.desc\" />\r\n        </Option>\r\n      </Select>\r\n    </FormItem>\r\n    <FormItem label=\"Aspect\" prop=\"aspect\">\r\n      <Select\r\n        v-model=\"formValidate.aspect\"\r\n        placeholder=\"选择或填写aspect...\"\r\n        :disabled=\"!formValidate.intent || !formValidate.slot\"\r\n        filterable\r\n        remote\r\n        :loading=\"loadingAspect\"\r\n        allow-create\r\n        @on-create=\"createAspect\"\r\n        v-debounce=\"aspectQueryChange\"\r\n        placement=\"top\"\r\n      >\r\n        <Option\r\n          v-for=\"(item, index) in aspects\"\r\n          :value=\"item.name\"\r\n          :label=\"item.title\"\r\n          :key=\"item.name+'--'+index\"\r\n        >\r\n          {{ item.title }}\r\n          <ButtonGroup   @click.stop=\"()=>{}\" v-if=\"needPagination&&index==0\" style=\"float:right;z-index:999\">\r\n            <Button\r\n              type=\"primary\"\r\n              size=\"small\"\r\n              @click.stop=\"currentPage--\"\r\n              :disabled=\"currentPage === 0\"\r\n            >\r\n              <Icon type=\"ios-arrow-back\"></Icon>\r\n            </Button>\r\n            <Button type=\"primary\" size=\"small\" :disabled=\"!hasNextPage\"\r\n>\r\n              <Icon\r\n                type=\"ios-arrow-forward\"\r\n                @click.stop=\"currentPage++\"\r\n              ></Icon>\r\n            </Button>\r\n          </ButtonGroup>\r\n          <helpTooltip v-if=\"item.desc\" :content=\"item.desc\" />\r\n        </Option>\r\n      </Select>\r\n    </FormItem>\r\n     <FormItem label=\"Result\" prop=\"result\">\r\n     <Select v-model=\"formValidate.value\">\r\n        <Option value=\"yes\">Yes</Option>\r\n        <Option value=\"no\">No</Option>\r\n        <Option value=\"notSure\">Not sure</Option>\r\n    </Select>\r\n    </FormItem>\r\n  </Form>\r\n</template>\r\n<script>\r\nimport helpTooltip from '../../components/helpTooltip'\r\nexport default {\r\n  model: {\r\n    event: 'change',\r\n    prop: 'value'\r\n  },\r\n  props: ['value'],\r\n  components: {\r\n    helpTooltip\r\n  },\r\n  watch: {\r\n    formValidate: {\r\n      handler (newVal, oldVal) {\r\n        this.$emit('change', newVal)\r\n      },\r\n      deep: true\r\n    },\r\n    value: {\r\n      handler (newVal, oldVal) {\r\n        this.formData(newVal)\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    currentPage (newVal) {\r\n      this.pageChange(newVal)\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      formValidate: {\r\n        text: '',\r\n        range: '',\r\n        intent: '',\r\n        slot: '',\r\n        aspect: '',\r\n        value: ''\r\n      },\r\n      slots: [],\r\n      aspects: [],\r\n      labels: window.labels,\r\n      remote: false,\r\n      loadingAspect: false,\r\n      needPagination: false,\r\n      currentPage: 0,\r\n      pageSize: 10,\r\n      query: '',\r\n      hasNextPage: true\r\n    }\r\n  },\r\n  methods: {\r\n    formData (value) {\r\n      let same = true\r\n      for (let k in value) {\r\n        let v = value[k]\r\n        same = same && this.formValidate[k] === v\r\n      }\r\n      if (same) return\r\n      this.formValidate = {\r\n        text: value.text,\r\n        range: value.range,\r\n        intent: value.intent\r\n      }\r\n      if (this.value.slot) {\r\n        this.intentChange(this.value.intent)\r\n        if (this.slots.filter(v => value.slot === v.name).length === 0) {\r\n          this.createSlot(value.slot)\r\n        }\r\n        this.formValidate.slot = value.slot\r\n      }\r\n\r\n      if (this.value.aspect) {\r\n        this.slotChange(this.value.slot)\r\n        if (this.aspects.filter(v => value.aspect === v.name).length === 0) {\r\n          this.createAspect(this.value.aspect)\r\n        }\r\n        this.formValidate.aspect = value.aspect\r\n      }\r\n    },\r\n    createSlot (val) {\r\n      this.slots.push({\r\n        name: val,\r\n        title: val\r\n      })\r\n    },\r\n    createAspect (val) {\r\n      this.aspects.push({\r\n        name: val,\r\n        title: val\r\n      })\r\n    },\r\n    intentChange (value) {\r\n      this.formValidate.slot = ''\r\n      this.formValidate.aspect = ''\r\n      this.slots = []\r\n      this.aspects = []\r\n      this.labels.slots.map(slot => {\r\n        if (slot.activeIntents.indexOf(value) >= 0) {\r\n          this.slots.push(slot)\r\n        }\r\n      })\r\n    },\r\n    slotChange (value) {\r\n      this.formValidate.aspect = ''\r\n      this.aspects = []\r\n      if (this.slots.filter(s => s.name === value && s.loadData).length > 0) {\r\n        // 这里slot变了，但是aspect里不填值，不发动搜索，必须填入关键词，才会填入aspects\r\n      } else {\r\n        this.labels.aspects.map(v => {\r\n          if (v.activeSlots.indexOf(value) >= 0) {\r\n            this.aspects.push(v)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    aspectQueryChange (q) {\r\n      if (!q) return\r\n      if (\r\n        this.slots.filter(s => s.name === this.formValidate.slot && s.loadData)\r\n          .length > 0\r\n      ) {\r\n        this.loadingAspect = true\r\n        this.searchAspects(q, 0)\r\n        this.loadingAspect = false\r\n      }\r\n    },\r\n    searchAspects (query, startIndex) {\r\n      let resultIndexes = window[this.formValidate.slot + '_index'].search({\r\n        query,\r\n        limit: this.pageSize,\r\n        page: startIndex + ''\r\n      })\r\n      this.aspects = []\r\n      this.query = query\r\n      this.needPagination = true\r\n      this.currentPage = Math.floor(startIndex / this.pageSize)\r\n      this.hasNextPage = resultIndexes.next !== null\r\n      if (resultIndexes.result) {\r\n        resultIndexes.result.map(v => {\r\n          let data = window[this.formValidate.slot + '_indexData'][v]\r\n          this.aspects.push({\r\n            name: data,\r\n            title: data\r\n          })\r\n        })\r\n      }\r\n    },\r\n    pageChange (pageNumber) {\r\n      this.aspects = []\r\n      this.searchAspects(this.query, pageNumber * this.pageSize)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/actionPanel.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./helpTooltip.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./helpTooltip.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cec41b8a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./helpTooltip.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/helpTooltip.vue\n// module id = null\n// module chunks = ","<template>\r\n  <Tooltip :content=\"content\" transfer @on-popper-show=\"showTooltip\" :max-width=\"200\">\r\n    <Icon type=\"md-help-circle\" style=\"position:relative;right:0\" />\r\n  </Tooltip>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: ['content'],\r\n  methods: {\r\n    showTooltip () {\r\n      this.$emit('showTooltip')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/helpTooltip.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate}},[_c('FormItem',{attrs:{\"label\":\"语句\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"placeholder\":\"在原始消息中选择一部分……\",\"type\":\"textarea\"},model:{value:(_vm.formValidate.text),callback:function ($$v) {_vm.$set(_vm.formValidate, \"text\", $$v)},expression:\"formValidate.text\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"下标\",\"prop\":\"index\"}},[_c('InputNumber',{model:{value:(_vm.formValidate.range[0]),callback:function ($$v) {_vm.$set(_vm.formValidate.range, 0, $$v)},expression:\"formValidate.range[0]\"}}),_vm._v(\" \"),_c('InputNumber',{model:{value:(_vm.formValidate.range[1]),callback:function ($$v) {_vm.$set(_vm.formValidate.range, 1, $$v)},expression:\"formValidate.range[1]\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"Intent\",\"prop\":\"intent\"}},[_c('Select',{attrs:{\"placeholder\":\"选择intent...\",\"placement\":\"top\"},on:{\"on-change\":_vm.intentChange},model:{value:(_vm.formValidate.intent),callback:function ($$v) {_vm.$set(_vm.formValidate, \"intent\", $$v)},expression:\"formValidate.intent\"}},_vm._l((_vm.labels.intents),function(item){return _c('Option',{key:item.name,attrs:{\"value\":item.name,\"label\":item.title}},[_vm._v(\"\\n          \"+_vm._s(item.title)+\"\\n          \"),(item.desc)?_c('helpTooltip',{attrs:{\"content\":item.desc}}):_vm._e()],1)}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"Slot\",\"prop\":\"slot\"}},[_c('Select',{attrs:{\"placeholder\":\"选择或填写slot...\",\"disabled\":!_vm.formValidate.intent,\"filterable\":\"\",\"allow-create\":\"\",\"placement\":\"top\"},on:{\"on-change\":_vm.slotChange,\"on-create\":_vm.createSlot},model:{value:(_vm.formValidate.slot),callback:function ($$v) {_vm.$set(_vm.formValidate, \"slot\", $$v)},expression:\"formValidate.slot\"}},_vm._l((_vm.slots),function(item){return _c('Option',{key:item.name,attrs:{\"value\":item.name,\"label\":item.title}},[_vm._v(\"\\n          \"+_vm._s(item.title)+\"\\n          \"),(item.desc)?_c('helpTooltip',{attrs:{\"content\":item.desc}}):_vm._e()],1)}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"Aspect\",\"prop\":\"aspect\"}},[_c('Select',{directives:[{name:\"debounce\",rawName:\"v-debounce\",value:(_vm.aspectQueryChange),expression:\"aspectQueryChange\"}],attrs:{\"placeholder\":\"选择或填写aspect...\",\"disabled\":!_vm.formValidate.intent || !_vm.formValidate.slot,\"filterable\":\"\",\"remote\":\"\",\"loading\":_vm.loadingAspect,\"allow-create\":\"\",\"placement\":\"top\"},on:{\"on-create\":_vm.createAspect},model:{value:(_vm.formValidate.aspect),callback:function ($$v) {_vm.$set(_vm.formValidate, \"aspect\", $$v)},expression:\"formValidate.aspect\"}},_vm._l((_vm.aspects),function(item,index){return _c('Option',{key:item.name+'--'+index,attrs:{\"value\":item.name,\"label\":item.title}},[_vm._v(\"\\n          \"+_vm._s(item.title)+\"\\n          \"),(_vm.needPagination&&index==0)?_c('ButtonGroup',{staticStyle:{\"float\":\"right\",\"z-index\":\"999\"},on:{\"click\":function($event){$event.stopPropagation();return (function (){})($event)}}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.currentPage === 0},on:{\"click\":function($event){$event.stopPropagation();_vm.currentPage--}}},[_c('Icon',{attrs:{\"type\":\"ios-arrow-back\"}})],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":!_vm.hasNextPage}},[_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"},on:{\"click\":function($event){$event.stopPropagation();_vm.currentPage++}}})],1)],1):_vm._e(),_vm._v(\" \"),(item.desc)?_c('helpTooltip',{attrs:{\"content\":item.desc}}):_vm._e()],1)}),1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"Result\",\"prop\":\"result\"}},[_c('Select',{model:{value:(_vm.formValidate.value),callback:function ($$v) {_vm.$set(_vm.formValidate, \"value\", $$v)},expression:\"formValidate.value\"}},[_c('Option',{attrs:{\"value\":\"yes\"}},[_vm._v(\"Yes\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"no\"}},[_vm._v(\"No\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"notSure\"}},[_vm._v(\"Not sure\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ceeca16\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/actionPanel.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./actionPanel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./actionPanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ceeca16\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./actionPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/actionPanel.vue\n// module id = null\n// module chunks = ","<style scoped>\r\n.wrap {\r\n  position: relative;\r\n  overflow: hidden;\r\n  margin-right: 4px;\r\n  margin-left: 20px;\r\n  display: inline-block;\r\n  padding: 4px 10px;\r\n  line-height: 18px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  cursor: pointer;\r\n  background: #2d8cf0;\r\n  border: 1px dotted #2d8cf0;\r\n  border-radius: 4px;\r\n  -webkit-border-radius: 4px;\r\n  -moz-border-radius: 4px;\r\n  font-size: 14px;\r\n  font-weight: 100;\r\n}\r\n.wrap:hover {\r\n  background-color: #57a3f3;\r\n  border-color: #57a3f3;\r\n}\r\n.wrap span {\r\n  color: #fff;\r\n}\r\n.wrap .file {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  margin: 0;\r\n  border: solid transparent;\r\n  opacity: 0;\r\n  filter: alpha(opacity=0);\r\n  cursor: pointer;\r\n}\r\n</style>\r\n<template>\r\n  <div>\r\n    <Card dis-hover :bordered=\"false\" :padding=\"8\">\r\n      <div slot=\"title\" style=\"text-align:center\">\r\n        <strong>\r\n          当前文件：\r\n          <tag color=\"blue\" type=\"border\" v-if=\"this.fileName\">{{\r\n            fileName\r\n          }}</tag>\r\n          <span v-else>无</span>\r\n        </strong>\r\n        <div class=\"wrap\">\r\n          <span> <Icon type=\"md-open\" />打开对话文件 </span>\r\n          <input\r\n            id=\"fileupload\"\r\n            class=\"file\"\r\n            type=\"file\"\r\n            @change=\"readFile\"\r\n            ref=\"fileInput\"\r\n          />\r\n        </div>\r\n        <div class=\"wrap\">\r\n          <span> <Icon type=\"md-open\" />打开已标注文件 </span>\r\n          <input\r\n            id=\"labelledUpload\"\r\n            class=\"file\"\r\n            type=\"file\"\r\n            @change=\"readLabelled\"\r\n            ref=\"labelledUpload\"\r\n          />\r\n        </div>\r\n        <Button type=\"text\" @click=\"generateFile\">\r\n          <Icon type=\"md-download\" />下载已标注文件\r\n        </Button>\r\n      </div>\r\n      <Spin size=\"large\" v-if=\"loading\" fix>\r\n        <Icon type=\"ios-loading\" size=\"50\" class=\"spin-icon-load\"></Icon>\r\n        <div>Loading...</div>\r\n      </Spin>\r\n      <div>\r\n        <Row :gutter=\"8\">\r\n          <Col :span=\"10\">\r\n            <Card\r\n              id=\"chatPanel\"\r\n              style=\"background:#efefef7a;min-height:400px;overflow:auto\"\r\n              :style=\"{ height: height + 'px', overflow: 'auto' }\"\r\n              ref=\"chatPanel\"\r\n            >\r\n              <div\r\n                v-for=\"(m, index) in messages\"\r\n                :key=\"'message-' + index\"\r\n                @click=\"messageSelected(index)\"\r\n                style=\"border-radius:10px;padding:3px\"\r\n                :style=\"{\r\n                  border:\r\n                    currentIndex === index ? '1px dashed #1890ff ' : 'none'\r\n                }\"\r\n              >\r\n                <message :data=\"m\" :id=\"'message_'+index\"/>\r\n              </div>\r\n            </Card>\r\n          </Col>\r\n          <Col :span=\"14\" v-if=\"messages.length > 0\">\r\n            <div\r\n              style=\"padding:10px;overflow:auto\"\r\n              :style=\"{ height: height - 20 + 'px' }\"\r\n            >\r\n              <Form :label-width=\"80\">\r\n                <ButtonGroup size=\"small\" style=\"margin-left:10px;margin-bottom:10px\">\r\n                  <Button\r\n                    type=\"primary\"\r\n                    @click=\"currentIndex = currentIndex - 1\"\r\n                    :disabled=\"currentIndex === 0\"\r\n                  >\r\n                    <Icon type=\"ios-arrow-back\" />上一条\r\n                  </Button>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    @click=\"currentIndex = currentIndex + 1\"\r\n                    :disabled=\"currentIndex === messages.length - 1\"\r\n                  >\r\n                    下一条\r\n                    <Icon type=\"ios-arrow-forward\" />\r\n                  </Button>\r\n                </ButtonGroup>\r\n                <small style=\"color:red;\"\r\n                  >（选择原始消息标签中的部分内容，点击“添加Action”，系统会直接将已选文本及索引填入对应项）</small\r\n                >\r\n                <FormItem label=\"消息来自\" style=\"margin-bottom:0px\">\r\n                  <Tag color=\"blue\">{{messages[currentIndex].user}}</Tag>\r\n                </FormItem>\r\n                <FormItem label=\"原始消息\" style=\"margin-top:10px\">\r\n                  <div\r\n                    class=\"ivu-input\"\r\n                    style=\"height:100%\"\r\n                    v-selection=\"{ getSelection: actionRangeChange }\"\r\n                    v-click-outside=\"clearSelection\"\r\n                  >\r\n                    <span>{{ messages[currentIndex].message }}</span>\r\n                  </div>\r\n                </FormItem>\r\n              </Form>\r\n              <Button\r\n                :type=\"currentSelection.length > 0 ? 'primary' : 'dashed'\"\r\n                long\r\n                @click=\"addAction\"\r\n                ><Icon type=\"md-add\" />添加Action</Button>\r\n              <div style=\"padding-top:10px\">\r\n                <div\r\n                  v-for=\"(action, index) in currentActions\"\r\n                  :key=\"action.key\"\r\n                  style=\"padding:3px;\"\r\n                >\r\n                  <Card style=\"positioin:relative\">\r\n                    <div style=\"postion:absolute;top:0;right:0\">\r\n                      <Button\r\n                        type=\"text\"\r\n                        size=\"small\"\r\n                        @click=\"deleteAction(index)\"\r\n                      >\r\n                        <Icon type=\"md-close\" />\r\n                      </Button>\r\n                    </div>\r\n                    <div>\r\n                      <actionPanel\r\n                        v-model=\"currentActions[index]\"\r\n                      />\r\n                    </div>\r\n                  </Card>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Card>\r\n  </div>\r\n</template>\r\n<script>\r\nimport VueScrollTo from 'vue-scrollto'\r\nimport message from '../../components/message'\r\nimport actionPanel from './actionPanel'\r\nconst reader = new FileReader()\r\nconst options = {\r\n  container: '#chatPanel',\r\n  easing: 'ease-in',\r\n  offset: -60,\r\n  force: true,\r\n  cancelable: true,\r\n  x: false,\r\n  y: true\r\n}\r\nexport default {\r\n  components: {\r\n    message,\r\n    actionPanel\r\n  },\r\n  data () {\r\n    return {\r\n      height: window.screen.availHeight - 150,\r\n      fileName: '',\r\n      messages: [],\r\n      userConfig: {...window.chatterConfig},\r\n      currentIndex: 0,\r\n      loading: false,\r\n      currentActions: [],\r\n      actions: [],\r\n      currentRange: [],\r\n      currentSelection: ''\r\n    }\r\n  },\r\n  watch: {\r\n    'currentActions.length' (newVal, oldVal) {\r\n      let newMessage = {...this.messages[this.currentIndex], topText: newVal > 0 ? '已标注' : '未标注'}\r\n      this.$set(this.messages, this.currentIndex + '', newMessage)\r\n    },\r\n    currentIndex (newVal, oldVal) {\r\n      VueScrollTo.scrollTo('#message_' + newVal, 200, options)\r\n      this.actions[oldVal] = [...this.currentActions]\r\n      this.currentActions = [...this.actions[newVal]]\r\n    }\r\n  },\r\n  methods: {\r\n    clearSelection () {\r\n      this.currentSelection = ''\r\n      this.currentRange = [0, 0]\r\n    },\r\n    addAction () {\r\n      this.currentActions.unshift({\r\n        key: this.currentIndex + '--' + this.currentActions.length,\r\n        text: this.currentSelection,\r\n        range: this.currentRange\r\n      })\r\n      if (window.getSelection) {\r\n        window.getSelection().removeAllRanges()\r\n      } else {\r\n        document.selection.empty()\r\n      }\r\n    },\r\n    deleteAction (index) {\r\n      this.currentActions.splice(index, 1)\r\n    },\r\n    actionRangeChange (fixStr, allStr, range) {\r\n      let txt = range.endContainer.wholeText\r\n      if (range.endOffset === 1) {\r\n        txt = range.startContainer.wholeText\r\n      }\r\n      let firstCharIndex = 0\r\n      for (; firstCharIndex < txt.length; firstCharIndex++) {\r\n        if (\r\n          txt[firstCharIndex] !== '\\r' &&\r\n          txt[firstCharIndex] !== '\\n' &&\r\n          txt[firstCharIndex] !== ' ' &&\r\n          txt[firstCharIndex] !== '\\t'\r\n        ) {\r\n          break\r\n        }\r\n      }\r\n      this.currentSelection = fixStr.trim()\r\n      let start =\r\n        range.startOffset === 0 ? 0 : range.startOffset - firstCharIndex\r\n      this.currentRange = [start, start + fixStr.trim().length - 1]\r\n    },\r\n    messageSelected (index) {\r\n      this.currentIndex = index\r\n    },\r\n    readFile (event) {\r\n      this.loading = true\r\n      var file = event.target.files[0]\r\n      this.messages = []\r\n      reader.addEventListener('loadend', () => {\r\n        let fileData = JSON.parse(reader.result)\r\n        fileData.dialogues.map((message, index) => {\r\n          this.messages[index] = {\r\n            ...message,\r\n            message: message.sentence,\r\n            position: this.userConfig[message.role].position,\r\n            user: this.userConfig[message.role].title,\r\n            color: this.userConfig[message.role].position !== 'left',\r\n            topText: '未标注',\r\n            userName: message.role\r\n          }\r\n          this.actions.push({})\r\n        })\r\n        this.fileName = file.name\r\n        this.loading = false\r\n      })\r\n      reader.readAsText(file)\r\n    },\r\n    readLabelled (event) {\r\n      this.loading = true\r\n      var file = event.target.files[0]\r\n      this.messages = []\r\n      reader.addEventListener('loadend', () => {\r\n        let fileData = JSON.parse(reader.result)\r\n        fileData.map((message, index) => {\r\n          this.messages[index] = {\r\n            ...message\r\n          }\r\n          this.actions[index] = message.actions\r\n        })\r\n        this.currentIndex = 0\r\n        this.currentActions = [...this.actions[0]]\r\n        this.fileName = file.name\r\n        this.loading = false\r\n      })\r\n      reader.readAsText(file)\r\n    },\r\n    generateFile () {\r\n      this.actions[this.currentIndex] = [...this.currentActions]\r\n      var aTag = document.createElement('a')\r\n      var json = []\r\n      let finish = true\r\n      let i = 0\r\n      for (i = 0; i < this.messages.length; i++) {\r\n        let message = this.messages[i]\r\n        let actions = this.actions[i]\r\n        json[i] = {\r\n          ...message,\r\n          actions\r\n        }\r\n        finish = finish && actions.length > 0\r\n        if (!finish) { break }\r\n      }\r\n      if (!finish) {\r\n        this.$Message.error({\r\n          content: '还有尚未标注的项目，请先完成！'\r\n        })\r\n        console.log(i)\r\n        this.currentIndex = i\r\n        return\r\n      }\r\n      var blob = new Blob([JSON.stringify(json, null, 2)])\r\n      aTag.download =\r\n        this.fileName +\r\n        '-labelled.json'\r\n      aTag.href = URL.createObjectURL(blob)\r\n      aTag.click()\r\n      URL.revokeObjectURL(blob)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Card',{attrs:{\"dis-hover\":\"\",\"bordered\":false,\"padding\":8}},[_c('div',{staticStyle:{\"text-align\":\"center\"},attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('strong',[_vm._v(\"\\n        当前文件：\\n        \"),(this.fileName)?_c('tag',{attrs:{\"color\":\"blue\",\"type\":\"border\"}},[_vm._v(_vm._s(_vm.fileName))]):_c('span',[_vm._v(\"无\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"wrap\"},[_c('span',[_c('Icon',{attrs:{\"type\":\"md-open\"}}),_vm._v(\"打开对话文件 \")],1),_vm._v(\" \"),_c('input',{ref:\"fileInput\",staticClass:\"file\",attrs:{\"id\":\"fileupload\",\"type\":\"file\"},on:{\"change\":_vm.readFile}})]),_vm._v(\" \"),_c('div',{staticClass:\"wrap\"},[_c('span',[_c('Icon',{attrs:{\"type\":\"md-open\"}}),_vm._v(\"打开已标注文件 \")],1),_vm._v(\" \"),_c('input',{ref:\"labelledUpload\",staticClass:\"file\",attrs:{\"id\":\"labelledUpload\",\"type\":\"file\"},on:{\"change\":_vm.readLabelled}})]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.generateFile}},[_c('Icon',{attrs:{\"type\":\"md-download\"}}),_vm._v(\"下载已标注文件\\n      \")],1)],1),_vm._v(\" \"),(_vm.loading)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}},[_c('Icon',{staticClass:\"spin-icon-load\",attrs:{\"type\":\"ios-loading\",\"size\":\"50\"}}),_vm._v(\" \"),_c('div',[_vm._v(\"Loading...\")])],1):_vm._e(),_vm._v(\" \"),_c('div',[_c('Row',{attrs:{\"gutter\":8}},[_c('Col',{attrs:{\"span\":10}},[_c('Card',{ref:\"chatPanel\",staticStyle:{\"background\":\"#efefef7a\",\"min-height\":\"400px\",\"overflow\":\"auto\"},style:({ height: _vm.height + 'px', overflow: 'auto' }),attrs:{\"id\":\"chatPanel\"}},_vm._l((_vm.messages),function(m,index){return _c('div',{key:'message-' + index,staticStyle:{\"border-radius\":\"10px\",\"padding\":\"3px\"},style:({\n                border:\n                  _vm.currentIndex === index ? '1px dashed #1890ff ' : 'none'\n              }),on:{\"click\":function($event){return _vm.messageSelected(index)}}},[_c('message',{attrs:{\"data\":m,\"id\":'message_'+index}})],1)}),0)],1),_vm._v(\" \"),(_vm.messages.length > 0)?_c('Col',{attrs:{\"span\":14}},[_c('div',{staticStyle:{\"padding\":\"10px\",\"overflow\":\"auto\"},style:({ height: _vm.height - 20 + 'px' })},[_c('Form',{attrs:{\"label-width\":80}},[_c('ButtonGroup',{staticStyle:{\"margin-left\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{\"size\":\"small\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.currentIndex === 0},on:{\"click\":function($event){_vm.currentIndex = _vm.currentIndex - 1}}},[_c('Icon',{attrs:{\"type\":\"ios-arrow-back\"}}),_vm._v(\"上一条\\n                \")],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.currentIndex === _vm.messages.length - 1},on:{\"click\":function($event){_vm.currentIndex = _vm.currentIndex + 1}}},[_vm._v(\"\\n                  下一条\\n                  \"),_c('Icon',{attrs:{\"type\":\"ios-arrow-forward\"}})],1)],1),_vm._v(\" \"),_c('small',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"（选择原始消息标签中的部分内容，点击“添加Action”，系统会直接将已选文本及索引填入对应项）\")]),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-bottom\":\"0px\"},attrs:{\"label\":\"消息来自\"}},[_c('Tag',{attrs:{\"color\":\"blue\"}},[_vm._v(_vm._s(_vm.messages[_vm.currentIndex].user))])],1),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"label\":\"原始消息\"}},[_c('div',{directives:[{name:\"selection\",rawName:\"v-selection\",value:({ getSelection: _vm.actionRangeChange }),expression:\"{ getSelection: actionRangeChange }\"},{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.clearSelection),expression:\"clearSelection\"}],staticClass:\"ivu-input\",staticStyle:{\"height\":\"100%\"}},[_c('span',[_vm._v(_vm._s(_vm.messages[_vm.currentIndex].message))])])])],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":_vm.currentSelection.length > 0 ? 'primary' : 'dashed',\"long\":\"\"},on:{\"click\":_vm.addAction}},[_c('Icon',{attrs:{\"type\":\"md-add\"}}),_vm._v(\"添加Action\")],1),_vm._v(\" \"),_c('div',{staticStyle:{\"padding-top\":\"10px\"}},_vm._l((_vm.currentActions),function(action,index){return _c('div',{key:action.key,staticStyle:{\"padding\":\"3px\"}},[_c('Card',{staticStyle:{\"positioin\":\"relative\"}},[_c('div',{staticStyle:{\"postion\":\"absolute\",\"top\":\"0\",\"right\":\"0\"}},[_c('Button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.deleteAction(index)}}},[_c('Icon',{attrs:{\"type\":\"md-close\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('actionPanel',{model:{value:(_vm.currentActions[index]),callback:function ($$v) {_vm.$set(_vm.currentActions, index, $$v)},expression:\"currentActions[index]\"}})],1)])],1)}),0)],1)]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6938c851\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6938c851\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6938c851\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6938c851\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport index from './index.vue'\r\nimport ViewUI from 'view-design'\r\nimport locale from 'view-design/dist/locale/en-US'\r\nimport selection from './selection'\r\nimport ClickOutside from 'vue-click-outside'\r\nimport vueDebounce from 'vue-debounce'\r\nimport './../theme.less'\r\n\r\nVue.use(ViewUI, { locale })\r\nVue.directive('selection', selection)\r\nVue.directive('click-outside', ClickOutside)\r\nVue.use(vueDebounce, {\r\n  listenTo: 'input',\r\n  defaultTime: '1s'\r\n\r\n})\r\n// eslint-disable-next-line no-new\r\nnew Vue({\r\n  el: '#app',\r\n  render: h => h(index)\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/index.js"],"sourceRoot":""}